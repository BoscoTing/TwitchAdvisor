<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" type="text/css" href="../static/style.css">
   <!-- <link rel="stylesheet" type="text/css" href="../static/dropdown.css"> -->
   <title>TwitchAdvisor</title>
   <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>

   
   <h1 id="title">TwitchAdvisor</h1>

   <!-- streaming -->
   <div class="plotContainer"> 

      <!-- channel list -->
      <!-- <div id="liveBroadcasters" class="options"> -->
      <div id="liveBroadcasters" class="column">

         <!-- <h2>TwitchAdvisor</h2> -->

         <div id="searchBarContainer">
            <!-- <span>Search by URL:</span> -->
            <input type="text" placeholder="https://www.twitch.tv/channel" id="searchBar">
            <button type="submit" id="searchButton">Go</button>
         </div>

         <!-- average viewers -->
         <div id="avgViewerCountContainer">
            <h3 id="avgViewerCountHeader" class="avgViewerCount">Average Viewer Count</h3>
            <p id="avgViewerCount" class="avgViewerCount"></p>
         </div>

         <!-- total cheers -->
         <div id="totalCheersContainer">
            <h3 id="totalCheersHeader" class="totalCheers">Total Cheers</h3>
            <p id="totalCheers" class="totalCheers"></p>
         </div>
         
         <div id="waitingMessage">Waiting for messages...</div>

         <!-- <h3 id="topLiveChannelHeader">Top live channels</h3>
         <span id="topLiveChannels"></span> -->


         <!-- selected channel -->
         <!-- <h3 id="selectedLiveBroadcaster"></h3> -->
      </div>



      <!-- plot -->
      <div id="streamingPlot" class="plot">
         <div class="loadingOverlay" id="loadingOverlayStreaming">
            <div class="loadingMessage">Entering into Chatroom...</div>
         </div>


      </div>

   </div>

   


   <!-- historical -->
   <div class="plotContainer">

      <!-- channel list -->
      <div id="selectionInfo" class="column">

         <div id="defaultBroadcasters" class="options">
            <h3>Tracked Broadcasters</h3>
               <select id="broadcasterSelect">
                  <option value="" disabled selected>Select a broadcaster</option>
                  {% for b in broadcasters %}
                  <option class="defaultBroadcasters">{{b}}</option>
                  {% endfor %}  
               </select>
         </div>

         <!-- selected channel -->
         <h3 id="selectedBroadcaster"></h3>
         <!-- schedule -->
         <label>Live Stream History</label>
            <select id="scheduleHeader" class="options">
               <option value="" disabled selected>Select a start date</option>
            </select>

      </div>

      <!-- plot -->
      <div id="historicalPlot" class="plot"></div>
      <div id="historicalPlotViewerCount" class="plot"></div>

      <div class="loadingOverlay" id="loadingOverlayHistorical">
         <div class="loadingMessage">Loading...</div>
      </div>

   </div>


   <!-- overview -->
   <div class="plotContainer">

      <!-- metric list -->
      <div id="selectionInfo" class="column">

         <h3>Week Selector</h3>
         <input id="week" type="week" name="week" lang="en" onchange="handleWeekSelection()" value={{week_value}} min={{start_week}} max={{end_week}}>

         <h3>Metrics</h3>
         <select id="overviewMetricsSelect">
            <option class="overviewMetrics">Viewer Count</option>
            <option class="overviewMetrics">Average Message Count</option>
            <option class="overviewMetrics">Max Message Count</option>
            <option class="overviewMetrics">Average Sentiment Score</option>
            <option class="overviewMetrics">Total Cheers</option>
         </select>

      </div>

      <!-- plot -->
      <div id="overviewPlot" class="plot"></div>
      <!-- <div id="radarPlot" class="plot"></div> -->

      <div class="loadingOverlay" id="loadingOverlayOverview">
         <div class="loadingMessage">Loading...</div>
      </div>

   </div>


   <script src="../static/mainPage.js"></script>
   <script src="../static/streamingPlot.js"></script>
   <script src="../static/historicalPlot.js"></script>
   <script src="../static/overviewPlot.js"></script>

</body>
</html>
